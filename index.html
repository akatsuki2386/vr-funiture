<!DOCTYPE html>
<html>
  <head>
    <title>A-Frame レイキャスト体験</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('raycaster-listener', {
        init: function () {
          // 'raycaster-intersected'というイベントを監視
          this.el.addEventListener('raycaster-intersected', evt => {
            this.el.setAttribute('material', 'color', '#FF0000'); // 赤色に変更
          });
          // 'raycaster-intersected-cleared'というイベントを監視
          this.el.addEventListener('raycaster-intersected-cleared', evt => {
            this.el.setAttribute('material', 'color', '#0095FF'); // 元の色に戻す
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-entity laser-controls="hand: right"></a-entity>
      
      <a-box 
        position="0 1.5 -2" 
        rotation="0 45 0" 
        color="#0095FF"
        raycaster-listener
      ></a-box>
      
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>
